<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    {#  <link rel="apple-touch-icon" sizes="76x76" href="https://demos.creative-tim.com/light-bootstrap-dashboard-pro/assets/img/apple-icon.png">#}
    {#  <link rel="icon" type="image/png" href="https://demos.creative-tim.com/light-bootstrap-dashboard-pro/assets/img/favicon.png">#}
    {#    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='image/favicon.ico') }}">#}
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>Sarcasm Detector</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
          name='viewport'/>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"/>
    <!-- CSS Files -->
    <link rel="stylesheet" type="text/css" media="screen"
          href="{{ url_for('static', filename='css/bootstrap.min.css') }}"/>
    <link rel="stylesheet" type="text/css" media="screen"
          href="{{ url_for('static', filename='css/light-bootstrap-dashboard.css') }}">
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link rel="stylesheet" type="text/css" media="screen" href="{{ url_for('static', filename='css/demo.css') }}"/>
    <!-- Google Tag Manager -->

<body>
{#<div class="wrapper" style="background: url('../img/lock.jpg') no-repeat fixed;">#}
<div class="wrapper">
    <div class="main-panel">
        <div class="content">

            <div class="container-fluid">
                <div class="col-md-4 ml-auto mr-auto">
                <div class="card card-lock text-center card-plain">
                    <div class="card-header ">
                        {#<div class="author">
                  <img class="avatar" src="https://demos.creative-tim.com/light-bootstrap-dashboard-pro/assets/img/default-avatar.png" alt="...">
                </div>#}
                        <h4 class="card-title">Sarcasm Detector</h4>
                    </div>
                    <form enctype="multipart/form-data" method="POST">
                        {{ headlineForm.hidden_tag() }}
                        <div class="card-body ">
                            <div class="form-group">
                                {% if headlineForm.headline.errors %}
                                                    {{ headlineForm.headline(class="form-control form-control-lg is-invalid", row="5") }}
                                                    <div class="invalid-feedback">
                                                        {% for error in headlineForm.headline.errors %}
                                                            <span>{{ error }}</span>
                                                        {% endfor %}
                                                    </div>
                                                {% else %}
                                                    {{ headlineForm.headline(class="form-control form-control-lg") }}
                                                {% endif %}
{#                                <input type="text" placeholder="Enter Password" class="form-control">#}
                            </div>
                            <div class="form-group">
                                {% if headlineForm.image.errors %}
                                                    {{ headlineForm.image(class="form-control form-control-lg is-invalid") }}
                                                    <div class="invalid-feedback">
                                                        {% for error in headlineForm.image.errors %}
                                                            <span>{{ error }}</span>
                                                        {% endfor %}
                                                    </div>
                                                {% else %}
                                                    {{ headlineForm.image(class="form-control form-control-lg") }}
                                                {% endif %}
{#                                <input type="text" placeholder="Enter Password" class="form-control">#}
                            </div>
                        </div>
                        <div class="card-footer ">
                            {{ headlineForm.submit(class="btn btn-info btn-round") }}
{#                            <button class="btn btn-info btn-round">Check</button>#}
                        </div>
                    </form>
                </div>
            </div>
                {% if label|length > 0 %}
                <div class="col-8 ml-auto mr-auto">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card ">
                                <div class="card-header ">
                                    <h4 class="card-title">Sarcasm Meter</h4>
                                    <p class="card-category">The headline is {{ label[1] }}% sarcastic</p>
                                </div>
                                <div class="card-body ">
                                    <canvas id=sar class="ct-chart ct-perfect-fourth"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card ">
                                <div class="card-header ">
                                    <h4 class="card-title">Sentiment Meter</h4>
                                    <p class="card-category">
                                        The headline is
                                        {% if results['compound'] < -0.5 %}
                                             Negative
                                        {% elif results['compound'] > 0.5 %}
                                            Positive
                                        {% else %}
                                            Neural
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="card-body ">
                                    <canvas id="sen" class="ct-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
</div>
</body>
<!--   Core JS Files   -->
<script src="{{ url_for('static', filename='js/core/jquery.3.2.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/core/popper.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/core/bootstrap.min.js') }}"></script>
<!--  Plugin for Switches, full documentation here: https://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap-switch.js') }}"></script>
<!--  Chart Plugin  -->
<script src="{{ url_for('static', filename='js/plugins/chartjs.min.js') }}"></script>
<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script src="{{ url_for('static', filename='js/plugins/moment.min.js') }}"></script>
<!--  DatetimePicker   -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap-datetimepicker.js') }}"></script>
<!--  Sweet Alert  -->
<script src="{{ url_for('static', filename='js/plugins/sweetalert2.min.js') }}"></script>
<!--  Tags Input  -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap-tagsinput.js') }}"></script>
<!--  Bootstrap Select  -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap-selectpicker.js') }}"></script>
<!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
<script src="{{ url_for('static', filename='js/plugins/jquery.bootstrap-wizard.js') }}"></script>
<!--  Bootstrap Table Plugin -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap-table.js') }}"></script>
<!--  DataTable Plugin -->
<script src="{{ url_for('static', filename='js/plugins/jquery.dataTables.min.js') }}"></script>
<!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{{ url_for('static', filename='js/light-bootstrap-dashboard.js') }}"></script>
<!-- Light Dashboard DEMO methods, don't include it in your project! -->
<script src="{{ url_for('static', filename='js/demo.js') }}"></script>
<script type="text/javascript">
    $(document).ready(function () {
        // Javascript method's body can be found in assets/js/demos.js
        {#console.log({{label[0]}})#}

    });

    var ct = document.getElementById('sar').getContext('2d');
    var sar = new Chart(ct, {
        type: 'doughnut',
        data: {
            labels: ['Not Sarcastic ', 'Sarcastic'],
            datasets: [{
                data: [{{label[0]}}, {{label[1]}}],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                ],
                borderWidth: 1,
            }]
        }
    });

    var ctx = document.getElementById('sen').getContext('2d');
    var sen = new Chart(ctx, {
        type: 'horizontalBar',
        data: {
            labels: ['Negative', 'Neutral', 'Positive'],
            datasets: [{
                label: 'Sentiment',
                data: [{{results['neg']}}, {{results['neu']}}, {{results['pos']}}],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                    'rgba(75, 222, 132, 0.6)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(75, 222, 132, 1)'
                ],
                borderWidth: 1,
            }]
        },
        options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
</script>

</html>
